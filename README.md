# **Rover & Student**
Ссылка на актуальный репозиторий проекта: [открыть ссылку](https://github.com/Ubersmurf2010/RoverM/)

Здесь будет описана первоначальная настройка ноутбука или компьютера, с которого будет управляться робот (далее пульт) и самого робота. 
Проект сейчас имеет три ветки для разных версий робота.
- main: является учебной веткой.
- rev_0.1: версия ПО робота 0.1.
- rev_1.0: версия ПО робота 1.0 (добалвено еще одно звено манипулятора, доработана система управления.
Сейчас Вы находитесь в ветке **rev_1.0**.
Сначала рассмотрим установку дополнительных программ и зависимостей, а затем сам процесс запуска робота.

# Содержание:
1. ПО для работы робототехнических систем (SSH & VNC, Git & PyCharm)
2. Настройка пульта (Unix, Windows)
3. Запуск робота
4. Управление роботом 

# 1. ПО для работы робототехнических сиситем Ровер и Студент 
Пульт тестировался на ОС Ubuntu 22.04.2 LTS и Windows 10.
В корневой папке находятся следующие папки и файлы: 
- additional_scripts - файлы для автоматического запуска дисплея;
- control - бортовые файлы для робота;
- pult_5 - пультовые файлы;
- start_video.py - скрипт для передачи видео.
## SSH & VNC
Поскольку обмен данными производится через TCP/IP socket, то для подключения к сокету сервера необходимо запустить скрипт с робота.
Воспользуемся утилитами, которые позволяют подключаться по *ssh* или *vnc*:
- putty [Download putty](https://www.putty.org).
- vnc [Download RealVNC](https://www.realvnc.com/en/).
Linux Ubuntu 22.04 имеет встроенную ssh-утилиту.
```
ssh  <имя робота>@<ip address>
```
Далее необходимо ввести пароль, который на всех роботах по умолчанию 123.

## Git & PyCharm (не является обязательным)
Мы рекомендуем пользоваться python *IDE PyCharm*, поэтому ее и установим. Важно в процессе установки добавить python в переменную среду *PATH*. Также Вы же можете использоваться любую удобную Вам *IDE*.
После установки необходимо убедиться, что версия Интерпретатор python выше, чем 3.10. В ином случае добавить новый интерпретатор версией выше, чем 3.10.
Далее необходимо подключить *github* к *PyCharm*.
Для переходим на вкладку создание проекта.
![image](https://github.com/Ubersmurf2010/RoverM/assets/113335397/5352eaeb-1025-4944-a871-a1a9ef9b8fbd)
На этой вкладке выбираем Get from VCS. 
- Version control: git
- URL: https://github.com/Ubersmurf2010/RoverM.git
- Directory: выбираем папку, куда необходимо клонировать репозиторий проекта. 
Если PyCharm пишет, что git не установлен, значит его необходимо установить. (кнопка ниже Download and install)
После нажимаем кнопку CLone. 

Если все установилось и скопировалось правильно, то на нижней панели будет доступна вкладка *git*.
Теперь открываем папку с нашим проектом.

Для работы программы необходимо установить зависимость *pynput*.
Откроем терминал внутри *IDE* и введем команду:
```
pip install pynput
```
# 2. Настройка пульта.
## Unix
Установки ПО на Ubuntu 22.04 LTS:
```
sudo apt update
sudo apt install git
```
Скопируем репозиторий в домашний каталог.
```
cd ~/
git clone --single-branch --branch rev_1.0 https://github.com/Ubersmurf2010/RoverM.git
```
Для работы *onpult.py* необходимо установить сам python и дополнительные зависимости к нему.
Сначала необходимо убедиться, что Python3 установлен в системе выполнив команду в терминале.
```
python3 --version
```
Команда выведет текущую версию Python, которая используется в системе. Далее необходимо установить pip3:
```
sudo apt -y install python3-pip
sudo pip install pynput
```
## Windows
Скачать git на Windows [отсюда](https://git-scm.com/download/win). Перейти в рабочую папку проекта.
```
git clone --single-branch --branch rev_1.0 https://github.com/Ubersmurf2010/RoverM.git
```
Сначала необходимо убедиться, что Python 3 установлен в системе выполнив команду в терминале.
```
python3 --version
```
Если терминал вывел версию python, то:
```
pip install pynput
```

# 3. Запуск робота
- Подключить разъем от аккумулятора в робот.
- Подключить по *ssh* или *vnc* к бортовому компьютеру.
- *onpult.py* и *onboard.py* перед работой необходимо сконфигурировать. Ввести в обоих файлах одинаковый ip-адрес сервера. 
- После того, как нам удалось подключиться к плате, необходимо запустить исполняемый файл *onboard.py*.
```
git clone --single-branch --branch rev_1.0 https://github.com/Ubersmurf2010/RoverM.git
cd ~/
cd RoverM/control/
sudo python onboard.py
sudo python3 start_video.py
```
- Запустить исполняемый файл на пульте.
```
cd RoverM/pult
sudo python onpult.py
```
В *IDE PyCharm* нажать на зеленую кнопку *run*.
Важно отметить, что испольняемый файл *onpult.py* (на пульте) должен запускаться только после *onboard.py* (на роботе). 
В ином случае соединение не будет установлено.
# 4. Управление роботом
## Управление движением роботом:
- w – движение вперед;
- s – двжиение назад;
- a – танковый поворот налево;
- d – танковый поворот направо;
- q – поворот налево;
- e – поворот направо.
## Управлением камерой:
- 1 – поднять камеру;
- 2 – опустить камеру.
## Управление скоростью моторов:
- z – замедлиться;
- x – ускориться.
## Управление манипулятором:
- u, h – управление первой осью манипулятора;
- i, j – управление второй осью манипулятора;
- o, k – управление третьей осью манупулятора;
- p, l – управление схватом.
## Управление фарой:
- v, b – включить и выключить фару.
